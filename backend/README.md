# ๐ Vortex-Chain Trading Bot v5.0 - Modular Edition

## ๐ ูุจูู ุงููุดุฑูุน (Project Structure)

```
backend/
โโโ src/
โ   โโโ bot.js                          # โ ุงูุจูุช ุงููุฏูู (Old Bot) - ูุง ุชุณุชุฎุฏูู
โ   โโโ bot-modular.js                  # โ ุงูุจูุช ุงูุฌุฏูุฏ ุงูููุณู (New Modular Bot)
โ   โโโ config/
โ   โ   โโโ settings.js                 # โ๏ธ ุฌููุน ุงูุฅุนุฏุงุฏุงุช ุงููุฑูุฒูุฉ
โ   โโโ services/
โ   โ   โโโ database.js                 # ๐๏ธ ุฅุฏุงุฑุฉ ูุงุนุฏุฉ ุงูุจูุงูุงุช
โ   โ   โโโ telegram.js                 # ๐ฑ ุฎุฏูุฉ ุงูุชููุฌุฑุงู
โ   โ   โโโ logger.js                   # ๐ ุฎุฏูุฉ ุงูุชุณุฌูู
โ   โ   โโโ exchange.js                 # ๐น ุงูุชูุงุนู ูุน Binance
โ   โ   โโโ websocket.js                # ๐ ุงุชุตุงู WebSocket ููุฃุณุนุงุฑ ุงููุจุงุดุฑุฉ
โ   โ   โโโ technical-analysis.js       # ๐ ุงูุชุญููู ุงูููู ูุงููุคุดุฑุงุช
โ   โโโ utils/
โ       โโโ helpers.js                  # ๐๏ธ ุฏูุงู ูุณุงุนุฏุฉ
โโโ .env                                # ๐ ูุชุบูุฑุงุช ุงูุจูุฆุฉ (Environment Variables)
โโโ .dockerignore                       # ๐ณ ูููุงุช ูุชู ุชุฌุงูููุง ูู Docker
โโโ Dockerfile                          # ๐ณ ููู Docker
โโโ package.json                        # ๐ฆ ุงูููุชุจุงุช ุงููุทููุจุฉ
โโโ index.js                            # ๐ฏ ููุทุฉ ุงูุฏุฎูู ุงูุฑุฆูุณูุฉ
โโโ trades.db                           # ๐พ ูุงุนุฏุฉ ุจูุงูุงุช ุงูุตููุงุช

docker-compose.yml                      # ๐ณ ุชูููู Docker Compose
.gitignore                              # ๐ ูููุงุช ูุชู ุชุฌุงูููุง ูู Git
```

## โจ ุงูููุฒุงุช ุงูุฌุฏูุฏุฉ (New Features)

### 1๏ธโฃ **ูููู ูุนูุงุฑู (Modular Architecture)**

- ูู ููุฒุฉ ูู ููู ูููุตู
- ุณูู ุงูุตูุงูุฉ ูุงูุชุทููุฑ
- ุฅุนุงุฏุฉ ุงุณุชุฎุฏุงู ุงูุฃููุงุฏ

### 2๏ธโฃ **ูุงุนุฏุฉ ุจูุงูุงุช ูุญุณููุฉ (Enhanced Database)**

- ุญูุธ ุงูุตููุงุช ูุงูุฃูุงูุฑ ุงููุนููุฉ
- ุงุณุชุนุงุฏุฉ ุงูุตููุงุช ุงูููุชูุญุฉ ุนูุฏ ุฅุนุงุฏุฉ ุงูุชุดุบูู
- ุฅุญุตุงุฆูุงุช ููููุฉ

### 3๏ธโฃ **ูุธุงู ุชุณุฌูู ูุชูุฏู (Advanced Logging)**

- ูููุงุช ูููุตูุฉ ููู ููู
- ูุณุชููุงุช ูุฎุชููุฉ (INFO, WARNING, ERROR, TRADE)
- ุชุชุจุน ุฏููู ูุฌููุน ุงูุนูููุงุช

### 4๏ธโฃ **WebSocket ููุฃุณุนุงุฑ ุงููุจุงุดุฑุฉ (Live Price Updates)**

- ุงุชุตุงู ูุจุงุดุฑ ุจู Binance
- ุงุญุชูุงุทู ุชููุงุฆู ุฅูู REST API
- ุชููู ูุฅุนุงุฏุฉ ุงุชุตุงู ุขููุฉ

### 5๏ธโฃ **ุฃูุงูุฑ ูุญุฏูุฏ (Limit Orders)**

- ุดุฑุงุก ุจุณุนุฑ ุฃูู ูู ุงูุณูู
- ุจูุน ุจุณุนุฑ ุฃุนูู ูู ุงูุณูู
- ุชูููู ุชูุงููู ุงูุงูุฒูุงู (Slippage)

### 6๏ธโฃ **ุชููู ุฏููุงูููู (Dynamic Stop Loss)**

- ุชููู ุซุงุจุช: -2.5%
- ุชููู ูุชุญุฑู (Trailing Stop): 3.5%
- ุชููู ูุจูู ุนูู ATR (ูุคุดุฑ ุงูุชุฐุจุฐุจ)

### 7๏ธโฃ **ุชุญููู ููู ูุชูุฏู (Advanced Technical Analysis)**

- Golden Cross/Death Cross: SMA50 ร SMA200
- MACD Crossovers: ุชูุงุทุนุงุช MACD
- RSI ูุน ููุงุทู ุขููุฉ: 30-55
- ATR ููุชููู ุงูุฏููุงูููู
- Volume Surge Detection

### 8๏ธโฃ **ุฅุฏุงุฑุฉ ุงููุฎุงุทุฑ (Risk Management)**

- ุญุฏ ุฃูุตู ูููู ููุฎุณุงุฑุฉ: -5%
- ุฎุทุฑ ูุญุฏูุฏ ููู ุตููุฉ: 2%
- ุญุฏ ุฃุฏูู ููุตููุฉ: $15
- ุชูุงุฒู ุจูู ุงูุชููู ูุงูุณุนุฑ (1:2.8)

## ๐ ุงูุชุดุบูู (How to Run)

### ุงูุทุฑููุฉ 1: ุชุดุบูู ูุญูู (Local)

```bash
npm install
npm start
```

### ุงูุทุฑููุฉ 2: Docker

```bash
docker-compose up -d --build
```

### ุงูุทุฑููุฉ 3: Docker Compose ูุน ุงูุณุฌูุงุช (Logs)

```bash
docker-compose up -d --build
docker-compose logs -f backend
```

## ๐ ุงููุชุทูุจุงุช (Requirements)

- Node.js 22+
- Python 3.8+ (ูููุคุดุฑุงุช ุงููููุฉ)
- npm ุฃู yarn

## ๐ง ุงูุฅุนุฏุงุฏุงุช (Configuration)

ุฌููุน ุงูุฅุนุฏุงุฏุงุช ูู ููู ูุงุญุฏ: `src/config/settings.js`

### ูุซุงู ููุฅุนุฏุงุฏุงุช:

```javascript
// Risk Management
risk: {
  riskPercentage: 2,          // 2% ูู ุงูุฑุตูุฏ ููู ุตููุฉ
  maxPositions: 5,             // 5 ุตููุงุช ููุชูุญุฉ ูุญุฏ ุฃูุตู
  stopLossPercent: 2.5,        // ุฎุณุงุฑุฉ ูุญุฏุฏุฉ -2.5%
  takeProfitPercent: 7,        // ุฑุจุญ ูุณุชูุฏู +7%
  trailingStopPercent: 3.5,    // ุชููู ูุชุญุฑู 3.5%
}
```

## ๐ ุงูุฎุฏูุงุช (Services)

### 1. DatabaseService

- ุญูุธ ูุงุณุชุฑุฌุงุน ุงูุตููุงุช
- ุชุญุฏูุซ ุงูุฃูุงูุฑ ุงููุนููุฉ
- ุฅุญุตุงุฆูุงุช ููููุฉ

### 2. TelegramService

- ุฅุฑุณุงู ุฅุดุนุงุฑุงุช ุงูุชููุฌุฑุงู
- ุชุญูู ุงูุชุจุฑูุฏ (Cooldown)
- ุชูุงุฑูุฑ ููููุฉ

### 3. LoggerService

- ุชุณุฌูู ุงูุฃุญุฏุงุซ ููููุงู
- ูุณุชููุงุช ุชุณุฌูู ูุชุนุฏุฏุฉ

### 4. ExchangeService

- ุชูุงุนู ุขูู ูุน Binance
- ุฅุนุงุฏุฉ ูุญุงููุฉ ุขููุฉ (Retry)
- ูุนุงูุฌุฉ ุงูุฃุฎุทุงุก

### 5. WebSocketService

- ุงุชุตุงู ูุจุงุดุฑ ุจุฃุณุนุงุฑ Binance
- ุฅุนุงุฏุฉ ุงุชุตุงู ุชููุงุฆูุฉ
- ุชุฎุฒูู ูุคูุช ููุฃุณุนุงุฑ

### 6. TechnicalAnalysisService

- ุญุณุงุจ SMA, RSI, MACD, ATR
- ุชุญููู ุงูุฅุดุงุฑุงุช
- ุชูููู ููุฉ ุงูุฅุดุงุฑุฉ

## ๐ ุงูุณุฌูุงุช (Logs)

ุงูุณุฌูุงุช ุชูุญูุธ ูู ูุฌูุฏ `logs/` ุจุตูุบุฉ ููููุฉ:

```
logs/
โโโ 2025-11-28.log
โโโ 2025-11-29.log
โโโ ...
```

## ๐พ ูุงุนุฏุฉ ุงูุจูุงูุงุช (Database)

ููู `trades.db` ูุญุชูู ุนูู ุฌุฏุงูู:

### ุฌุฏูู Trades

```sql
- id: ูุนุฑู ูุฑูุฏ
- symbol: ุงูุนููุฉ (ูุซู BTC/USDT)
- side: ุงุชุฌุงู ุงูุตููุฉ (BUY/SELL)
- entry_price: ุณุนุฑ ุงูุฏุฎูู
- exit_price: ุณุนุฑ ุงูุฎุฑูุฌ
- amount: ุงููููุฉ
- profit_percent: ูุณุจุฉ ุงูุฑุจุญ/ุงูุฎุณุงุฑุฉ
- profit_usdt: ุงูุฑุจุญ ุจุงูุฏููุงุฑ
- fees: ุงูุฑุณูู
- reason: ุงูุณุจุจ
- timestamp: ุงูุชุงุฑูุฎ ูุงูููุช
```

### ุฌุฏูู Positions

```sql
- symbol: ุงูุนููุฉ
- entry_price: ุณุนุฑ ุงูุฏุฎูู
- amount: ุงููููุฉ
- highest_price: ุฃุนูู ุณุนุฑ ูุตู ุฅููู
- stop_loss: ุณุนุฑ ุงูุชููู
- take_profit: ุณุนุฑ ุงูุฑุจุญ
- atr_stop: ุชููู ATR
- timestamp: ุงูุชุงุฑูุฎ ูุงูููุช
```

## ๐ฏ ุงูุฅุดุงุฑุงุช ุงูุชุฌุงุฑูุฉ (Trading Signals)

### ุฅุดุงุฑุงุช ูููุฉ (Strong Signal)

- โ Golden Cross (SMA50 > SMA200)
- โ MACD Crossover
- โ Volume Surge
- โ In Uptrend
- โ RSI Safe Zone

### ุฅุดุงุฑุงุช ูุชูุณุทุฉ (Medium Signal)

- โ๏ธ MACD Crossover + Volume + Uptrend

## ๐ก๏ธ ุงูุญูุงูุฉ (Safety Features)

1. **ุญุฏ ุงูุฎุณุงุฑุฉ ุงููููู**: ุฅููุงู ุชููุงุฆู ุนูุฏ -5%
2. **ุชููู ูุญุฏูุฏ**: -2.5% ููู ุตููุฉ
3. **ุญุฏ ุฃุฏูู ููุตููุฉ**: $15 ูุชุฌูุจ ุงูุฃูุงูุฑ ุงูุตุบูุฑุฉ ุฌุฏุงู
4. **ุฃูุงูุฑ ูุญุฏูุฏ**: ุชูููู ุงูุงูุฒูุงู ูุงูุฑุณูู
5. **WebSocket Backup**: ุงุญุชูุงุทู REST API
6. **Database Recovery**: ุงุณุชุนุงุฏุฉ ุงูุตููุงุช ุงูููุชูุญุฉ

## ๐ ุงูุฅุญุตุงุฆูุงุช (Statistics)

ุชูุฑูุฑ ูููู ูุชุถูู:

- ุนุฏุฏ ุงูุตููุงุช ุงููุงุฆุฒุฉ ูุงูุฎุงุณุฑุฉ
- ูุณุจุฉ ุงูููุฒ
- ุฅุฌูุงูู ุงูุฃุฑุจุงุญ/ุงูุฎุณุงุฆุฑ
- ูุชูุณุท ุงูุฑุจุญ/ุงูุฎุณุงุฑุฉ
- ุฅุฌูุงูู ุงูุฑุณูู
- ุงูุฑุตูุฏ ุงูุญุงูู
- ุนุฏุฏ ุงูุตููุงุช ุงูููุชูุญุฉ

## ๐ ุงุณุชูุดุงู ุงูุฃุฎุทุงุก (Troubleshooting)

### ุงููุดููุฉ: "MODULE_NOT_FOUND"

```bash
npm install
```

### ุงููุดููุฉ: "API Key Invalid"

```bash
# ุชุญูู ูู .env
cat .env
```

### ุงููุดููุฉ: "Insufficient Balance"

ุฃุถู ุฃููุงู ูุญุณุงุจู ุนูู Binance

### ุงููุดููุฉ: Docker Build Fails

```bash
docker-compose down
docker-compose up -d --build --no-cache
```

## ๐ง ุงูุชูุงุตู ูุงูุฏุนู

- **Telegram Bot**: ุฃุฑุณู ุฑุณุงูุฉ ููุจูุช
- **Logs**: ุงูุญุต ูููุงุช ุงูุณุฌู ูู `logs/`
- **Database**: ุชููุฏ `trades.db` ููุจูุงูุงุช ุงูุชูุตูููุฉ

## โ๏ธ ุฅุฎูุงุก ุงููุณุคูููุฉ (Disclaimer)

- ุงูุจูุช ูุฎุตุต ููุงุณุชุฎุฏุงู ุงูุชุนูููู ูุงูุงุฎุชุจุงุฑ ููุท
- ุงุณุชุซูุฑ ุจุญุฐุฑ ููุง ุชุณุชุซูุฑ ูุง ูุง ุชุณุชุทูุน ุชุญูู ุฎุณุงุฑุชู
- ูุง ูุณุคูููุฉ ุนู ุงูุฎุณุงุฆุฑ ุงููุงููุฉ
- ุงุฎุชุจุฑ ุนูู ุญุณุงุจ ุตุบูุฑ ุฃููุงู

## ๐ ุงูุชุฑุฎูุต (License)

ISC

---

**ุงูุฅุตุฏุงุฑ**: 5.0 Modular Edition  
**ุงูุชุงุฑูุฎ**: November 2025  
**ุงูุญุงูุฉ**: ๐ข ุฌุงูุฒ ููุฅูุชุงุฌ (Production Ready)
